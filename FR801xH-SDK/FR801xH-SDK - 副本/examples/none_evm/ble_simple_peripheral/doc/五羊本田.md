

终端通讯协议
（车载蓝牙）





产品名	适用于移动终端到平台的 TCP 系统
子系统名	智能车载终端（T-box）手机蓝牙协议
文档编号	2022—HD—001	版本号	Ver 1.0.000
编写人	许智皓	最后日期	2022.06.30













版本说明

文档名称	五羊本田摩托蓝牙钥匙方案
原始文档	
适用车型	两轮油车、两轮电车
文档密级	有限公开
文档版本	文档作者	完成日期	版本说明	审核人
V1.0.0	许智皓	2022-06-30	初始版本	
V1.0.1	许智皓	2022-09-07	新增5.7 蓝牙距感范围设置	
v1.0.2	许智皓	2022-10-25	新增5.8 手机蓝牙寻车	
v1.0.3	许智皓	2022-11-01	5.1 连接鉴权增加手机系统
5.9 设备蓝牙恢复出厂设置	
v1.1.0	许智皓	2024-07-13	增加MT135相关内容（智能设置）	
v1.1.1	许智皓	2024-09-19	5.20 手机设置紧急模式开关(2KDA)	
v1.1.2	许智皓	2024-09-24	6.4. 充电功率参数设置（手机 APP -> 设备）
更变充电功率参数的值	
v1.1.3	许智皓	2024-10-12	新增：6.13. 车辆防盗告警设置（手机 APP -> 设备）	
v1.1.4	许智皓	2024-10-13	删除 6.1 User档参数设置功能
6.10. 参数设置同步 去掉 ：User档开关、User档速度、User档扭矩
6.12. 恢复默认，去掉：User档

新增：
6.14. 自动转向回位设置（手机 APP -> 设备）
6.15. EBS开关设置（手机 APP -> 设备）(区分)
6.16. 低速挡(E-SAVE MODE)参数设置（手机 APP -> 设备）(区分)
6.17. 中速挡(DYN MODE)参数设置（手机 APP -> 设备）(区分)
6.18. 高速档(SPORT MODE)参数设置（手机 APP -> 设备）(区分)

6.10. 参数设置同步 - 新增：
	AutoTurnResetSettings 自动转向回位设置、
	ebsSettings EBS开关设置、
	e-saveModeSettings 低速挡、
	dynModeSettings	中速挡、
	sportModeSettings 高速档

6.12. 恢复默认 - 新增：
	自动转向回位设置
	EBS开关设置
	低速挡
	中速挡
	高速档


6.13.车辆防盗告警设置（手机APP->设备） - 修改：
去掉原有项，增加：
00：关闭
01：音量低
10：音量中（暂时不用）
11：音量高	
v1.1.5	许智皓	2024-12-27	2KFA 机种(行致平台)
5.20 手机设置紧急模式开关(2KDA、2KFA)（手机 APP -> 设备）
新增机种：2KFA

新增：
6.19. 丢失模式 参数设置（手机 APP -> 设备）(区分)
6.20. TCS开关 参数设置（手机 APP -> 设备）(区分)
6.20. 侧支架开关 参数设置（手机 APP -> 设备）(区分)

兼容：
6.6. 和弦喇叭参数设置（手机 APP -> 设备）
6.15. EBS开关设置（手机 APP -> 设备）(区分)
6.12. 恢复默认（手机 APP -> 设备）
	增加：丢失模式、TCS开关、侧支架开关

6.10. 参数设置同步（设备 -> 手机 APP）
	增加：智能开关集3
	
v1.1.6	许智皓	2025-1-15	6.9. 智能开关设置（手机 APP -> 设备）
新增：2KEA
0x06：BSD功能（2KEA  REAR READER 0x270）
0x07：LCW 功能（2KEA  REAR READER 0x270）
0x08：RCW功能（2KEA  REAR READER 0x270）
0x09：倒车辅助功能（雷达）

6.10. 参数设置同步（设备 -> 手机 APP）
3btye字节说明-新增：
BSD功能
LCW 功能
RCW功能
倒车辅助功能（雷达）	
v1.1.7	许智皓	2025-1-21	6.22. 电池类型与容量 参数设置（手机 APP -> 设备）(区分)	
V1.1.8	李东强	2025-03-06	6.9  智能开关设置
新增：0x0a增加迎宾灯开关(2KDA)及对应同步位6.11  Byte2.bit1	
v.1.1.9	许智皓	2025-3-12	新增：
6.23. 2KFA数据同步（手机 APP -> 设备）(区分)


修改：
6.13. 车辆防盗告警设置（手机 APP -> 设备） 增加 声防设置
no 2总里程小里程：  蓝牙协议缺少该模块需要增加。

6.9. 智能开关设置（手机 APP -> 设备）
增加下标: 0x0b：低电量续航模式

6.10. 参数设置同步（设备 -> 手机 APP）
智能开关集2: Bit0 加入 低电量续航模式
智能开关集3: Bit3 加入  GPS开关	
v.1.2.0	许智皓	2025-3-14	5.21 手机向设备获取当前正在连接的手机MAC(135- 2KDA、2KFA、2KEA)（手机 APP -> 设备）	
V1.2.1	李东强	2025-3-21	6.10 状态同步
删除：Byte2 bit3电量指示灯重复删除
修改：迎宾灯同步位6.11  Byte2.bit1移到BYTE2.Bit3
新增：紧急模式 定义在BYTE BIT1
	
V1.2.2	许智皓	2025-4-2	 新增
 6.24. HDC（陡坡缓降）设置（设备 -> 手机 APP）(区分)
6.25.  HHC（防溜坡）设置（设备 -> 手机 APP）(区分)
6.26. 起步强度状态设置（设备 -> 手机 APP）(区分)	
V1.2.3	许智皓	2025-4-22	6.9. 智能开关设置（手机 APP -> 设备）
新增：0x0c：充电指示灯

6.10. 参数设置同步
新增 智能开关集4 - 4btye字节说明

新增
6.11. 参数设置同步（有变化时）
车辆状态-bit4~bit3 2KFA 档位

6.28. ECO档速度设置（设备 -> 手机 APP）(区分)
设置从原4个字节，改为1个字节，

6.10. 参数设置同步（设备 -> 手机 APP）
新增ECO档速度设置同步项	
V1.2.4	曹东升	2025-5-28	6.9. 智能开关设置（手机 APP -> 设备）
删除0X06、0X07、0X08、0X09

新增
6.29. 雷达设置（手机 APP -> 设备）
新增雷达总开关、雷达灵敏度	
V1.2.5	许智皓	2025-6-26	6.27. SPORT档速度设置（设备 -> 手机 APP）(区分)
修订 2kfa、2L9a 范围值
6.28. ECO档速度设置（设备 -> 手机 APP）(区分)
修订 2kfa、2L9a 范围值	
V1.2.5	曹东升	2025-7-15	6.29. 雷达设置（设备 -> 手机 APP）
增加适配车型：2GGA	
V1.2.6	许智皓	2025-7-22	6.10. 参数设置同步 - 
新增： 
起步强度设置
SPORT档速度设置


4btye字节说明 - Bti2 陡坡缓降
0x1：设置打开，
0x0：设置关闭

4btye字节说明 - Bti1 防溜坡
0x1：设置打开，
0x0：设置关闭

蓝牙感应解锁灵敏度	
V1.2.6.1	许智皓	2025-8-13	6.6. 和弦喇叭参数设置（手机 APP -> 设备）
音源 - 2KFA 范围原0-3改为0-5	
V1.2.6.2	许智皓	2025-9-1	新增：
5.22 单控开锁 （手机 APP -> 设备）	
V1.2.6.3	许智皓	2025-10-24	6.22. 电池类型与容量 参数设置（手机 APP -> 设备）(区分)
电池容量
新增：
0110：22ah;
0111：38ah;	
























目录
版本说明	2
目录	3
1.	综述	3
2.	协议基础	4
2.1	. 通讯方式	4
2.2	. 数据规则	4
2.3	. BLE 模组 UUID 说明	4
3.	通讯连接	5
3.1	. 建立连接	5
3.2	. 维持连接	5
4.	消息处理	6
4.1	. 手机 APP 下行数据	6
4.2	. 终端上行数据	6
5. 具体协议内容	7
5.1. 连接鉴权(手机 APP – 设备)	7
5.2. 心跳指令（手机 APP -> 设备）	8
5.3. 设防撤防设置指令（手机 APP -> 设备）	8
5.4. 蓝牙感应开关设置指令（手机 APP -> 设备）	8
5.5. 手机消息通知指令（手机 APP -> 设备）	9
5.6. 蓝牙OTA（手机 APP -> 设备）（待定）	10








1. 综述
协议规定了五羊本田摩托T-BOX蓝牙设备与手机APP之间的通讯协议。本协议包括协议基础、通讯连接、消息处理、协议内容等。
本协议支持 Ble 4.0 及以上版本协议连接的终端设备。


2. 协议基础
2.1. 通讯方式
通讯协议支持 Ble 4.0 及以上，手机 APP 作为主设备，摩托终端作为从设备。本文所描述的消息收发过程均建立在蓝牙连接完成的基础上。


2.2. 数据规则
协议采用大端模式的网络字节序来传递数据，约定高字节在前，低字节在后。无论上行还是下行数据均需要另一方应答。

注：上行指终端向手机发送数据，下行则是指手机向终端发送数据。


2.3. BLE 模组 UUID 说明
蓝牙参考值如下表所示。（使用 128bit UUID，具体 UUID 联调，请联系）。

UUID 类型	UUID值	UUID属性	数据长度（字节）	备注
服务 UUID 	0XFFF0 	\ 	\ 	\
特性
UUID	用户数据通道	0XFFF6	READ/WRITE/NOTIFY 	64	特性UUID
		0XFFF1	READ/NOTIFY	64	
	心跳	0X1004	WRITE	64	


另外，如果使用 128 bit UUID，默认值描述如下，也可自定义修改：

Service ：0000fff0-0000-1000-8000-00805F9B34FB
UUID1 ： 0000fff1-0000-1000-8000-00805F9B34FB
UUID2 ： 0000fff6-0000-1000-8000-00805F9B34FB
UUID3 ： 00001004-0000-1000-8000-00805F9B34FB



3. 通讯连接
3.1. 建立连接
应用鉴权连接 手机 APP 在开启蓝牙扫描后，APP 通过终端蓝牙广播名称判断为目标终端后，主动与该蓝牙终端建立蓝牙物理连接，终端蓝牙名称规则为 Moto_MAC(MAC为终端蓝牙MAC地址后6位)。
APP 与T-BOX 蓝牙物理连接建立以后，APP 主动发送令牌(Token)进行校
验, Token 计算方式为：
Token = MD5(T-BOX_KEY)。
T-BOX_KEY 为 T-BOX 终端 24 位预设通讯秘钥，配对密码需要与 T-BOX KEY 在出厂阶段，通过表格形式同步给平台；T-BOX 终端接收到连接请求后，与本地秘钥(T-BOX_KEY)进行比对认证，并返回认证结果，若 T-BOX 认证失败，则主动断开蓝牙物理连接。


3.2. 维持连接
连接建立和终端认证成功后，手机和终端会自动维持蓝牙连接，直到任何一方主动断开或距离太远导致自动断开。APP 与 T-BOX BLE 通讯连接交互过程如下：


4.消息处理

4.1. 手机 APP 下行数据

手机下行的数据均要求终端 ACK 应答，若手机等待应答超时后，应对消息进行重发。应答超时时间为 3 秒，重传次数 3 次。对于 APP 发送的关键数据，若达到重传次数后仍未收到应答，则断开此次连接，并建立新连接。

4.2. 终端上行数据
终端上行的数据均要求手机应答, 应答内容由具体协议决定。终端等待应答超时后，应对消息进行重发。应答超时时间为 3 秒。对于终端发送的关键数据，若达到重传次数后仍未收到应答，则断开此次连接。

5. 协议内容
通讯方式为同步方式，必须等待回复或是超时后，方可进行下一步通讯，通讯超时时间为 3 秒。数据定义格式如下：
序号	字段	长度	功能定义
1	Header	2	固定为 0x5555
2	Length	1	数据包长度，包括 header、footer
3	Crypto	1	加密算法
0x00 - 不加密
0x01 – DES3
0x02 – AES128
4	流水号	1	0~255，终端回复的流水号与APP下发的流水号一致
5	Cmd	2	命令标识
6	Data	N	传输的数据内容,加密传输
7	BCC	1	从 header 到 data 的数据 bcc 校验
8	Footer	2	固定为 0xaaaa
备 注：ACK 确认帧命令标识为 0x00,0x00, Data 内容长度为 0，加密版本为 0x00, 流水号与请求流水号保持一致。

5.1. 连接鉴权(手机 APP – 设备)
请求 （手机 – 设备）设备在一定时间内鉴权未通过或未收到鉴权数据需要设备主动断开
字段	定义	长度	说明
Cmd	0x01,
0xFE	2	固定为 0x01,0xFE (0xFE标识为手机APP下行消息)
Data	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为
1970年1月1号1时1分1秒
	Token	令牌	32	MD5(T-BOXKEY)
	mobileSystem	手机系统	1	1：android
2: IOS
3: 其他
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x01,0x01	2	固定为 0x01,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:鉴权错误
	InductionStatus	 蓝牙感应防盗开关	1	1：当前关
2：当前开
		nfc开关	1	1：当前关
2：当前开
		蓝牙寻车声音档位	1	0x01：声音低档
0x02：声音中档
0x03：声音高档
0x04：声音关闭
	ModelMacLen	手机MAC地址长度	1	本次鉴权配对的手机MAC地址数据的长度
	ModelMac	手机MAC地址	N	本次鉴权配对的手机MAC地址


5.2. 心跳指令（手机 APP -> 设备）
请求(手机->设备) 1.手机 APP 每 5 秒发送一次心跳，当设备 15 秒内未接收到任何消息设备主动断开连接
字段	定义	长度	说明
Cmd	0x02,0xFE	2	固定为 0x02,0xFE
去掉不实现

5.3. 设防撤防设置指令（手机 APP -> 设备，开关电门锁）
请求(手机->设备)
字段	定义	长度	说明
Cmd	0x03,0xFE	2	固定为 0x03,0xFE
Data	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	DefendStatus	防护状态	1	0x00：手动撒防
0x01：手动设防
2kFA
2KGA I/O指令
2MQA I/O指令
2GGA/2GGF I/O指令

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x03,0x01	2	固定为 0x03,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


5.4. 蓝牙感应防盗开关设置指令（手机 APP -> 设备）
请求(手机->设备)
字段	定义	长度	说明
Cmd	0x04,0xFE	2	固定为 0x04,0xFE
Data	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	InductionStatus	感应开关	1	0x00：感应撒防
0x01：感应设防

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x04,0x01	2	固定为 0x04,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败



5.5. 手机消息通知指令（手机 APP -> 设备）
BLE和手机系统底层实现
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x05,0xFE	2	固定为 0x05,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	MessageType	消息类型	1	0x01：有电话待接听
0x02：有信息待查看

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x05,0x01	2	固定为 0x05,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败




5.6. 蓝牙OTA（手机 APP -> 设备）（待定）


5.7. 手机蓝牙信号强度范围设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x07,0xFE	2	固定为 0x07,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	min	最小值	2	0 ~ 300 
（因子-1，MCU收到值后min *-1 ）
	max	最大值	2	0 ~ 300 
（因子-1，MCU收到值后max *-1 ）

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x07,0x01	2	固定为 0x07,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

5.8. 手机蓝牙寻车（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x08,0xFE	2	固定为 0x08,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x08,0x01	2	固定为 0x08,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


5.9. 设备蓝牙恢复出厂设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x09,0xFE	2	固定为 0x09,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x09,0x01	2	固定为 0x09,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


5.10 取消手机当前配对信息（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0a,0xFE	2	固定为 0x0a,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0a,0x01	2	固定为 0x0a,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败
0x02 操作失败：无效卡

5.11 手机增实体nfc卡（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0b,0xFE	2	固定为 0x0b,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	add control 	增加类型	1	0x01 开始添加nfc卡
0x02 确定非加密卡加卡
0x03 不添加非加密卡加卡

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0b,0x01	2	固定为 0x0b,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:增卡失败：卡已存在
0x02 操作失败：无效卡
0x03 当前是非加密卡，查询是否确定添加
0x04 操作失败：acc 状态 拒绝
	uuid	卡号	4	uuid 号(成功才会回复)
	key	a秘钥	6	key 

加密卡添加流程：手机发送1 表示开始加卡 -> 设备识别为加密卡，加密成功并添加回复0x01,失败则回复02

非加密卡加流程：手机发送1 表示开始加卡 -> 设备识别为非加密卡->设备回复03询问是否添加->手机收到客户点击确定下发2->设备进行数据存入卡池返回成功 整个30s定时如果没存入数据会删除

5.12 手机删实体nfc卡（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0c,0xFE	2	固定为 0x0C,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	delete control 	删除类型	1	1 删除一张指定卡，直接删除设备记录
2 重置实体卡，且删除设备记录（客户取消改功能）
3 删除全部卡
	delete card uuid	      待删卡号	4	卡号（2,3不回复）
	delete card key	     卡号秘钥	6	秘钥（2,3不回复）

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0c,0x01	2	固定为 0x0c,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01  删卡失败：卡不存在
0x02 操作失败：无效卡
0x03 操作失败：acc 状态 拒绝
5.13 手机查询nfc卡（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0e,0xFE	2	固定为 0x0E,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
				
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0e,0x01	2	固定为 0x0E,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:当前设备暂无添加nfc卡
0x02：查询失败
	uuid1	卡号	4	第一个nfc卡号
	key1	卡密	6	第一个nfc卡密
	uuid2	卡号	4	第二个nfc卡号
	key2	卡密	6	第二个nfc卡密 
				以此类推，逐渐增加最多6个
5.14 手机设置油车解除设防（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0f,0xFE	2	固定为 0x0f,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	DefendStatus	防护状态	1	0x00：油车解防
0x01：油车设防
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0f,0x01	2	固定为 0x0f,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

5.15 手机设置油车寻车声音（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x11,0xFE	2	固定为 0x11,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	sound	声音大小	1	0x01：声音低档
0x02：声音中档
0x03：声音高档
0x04：声音关闭
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x11,0x01	2	固定为 0x11,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

5.16 手机设置油车尾箱锁（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x12,0xFE	2	固定为 0x12,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	控制类型	1	0x00：开锁
0x01：关锁
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x12,0x01	2	固定为 0x12,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

5.16 手机设置nfc开关（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x13,0xFE	2	固定为 0x13,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	控制类型	1	0x00：关
0x01：开
（因产线已出货，故此处特殊处理写完）
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x13,0x01	2	固定为 0x13,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


5.17 手机设置座桶锁开关（鞍座锁）（手机 APP -> 设备）(目前只用于2M9A、2KGA、2MQA，其他项目示情况使用)
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x14,0xFE	2	固定为 0x14,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	控制类型	1	0x00：开
0x01：关
2KGA I/O指令
2MQA I/O指令

				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x14,0x01	2	固定为 0x14,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

5.18 手机设置静音开关（手机 APP -> 设备）(目前只用于2M9A，其他项目示情况使用)
2024-12-16 此帧增加机种：2KDA

请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x15,0xFE	2	固定为 0x15,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	控制类型	1	0x00：开（11-声防盗设防）
0x01：关（10-静音设防）
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x15,0x01	2	固定为 0x15,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败
0x02:acc状态拒绝

5.19 手机设置中箱锁开关（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x16,0xFE	2	固定为 0x16,0xFE
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	控制类型	1	0x00：开
0x01：关

				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x16,0x01	2	固定为 0x16,0x01
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


5.20 手机设置紧急模式开关(2KDA、2KFA)（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x17,0xFE	2	
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	控制类型	1	0x01：设置打开
0x00：设置关闭
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x17,0x01	2	
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败



5.21 手机向设备获取当前正在连接的手机MAC(135- 2KDA、2KFA、2KEA)（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x18,0xFE	2	
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x18,0x01	2	
Data	数据段	
	结果		1	0x00:成功
0x01:失败
	MAC地址		6	成功：EO DC FF D9 7C 12
失败：FF FF FF FF FF FF


5.22 单控开锁 （手机 APP -> 设备）
适配车型：
135
¡2KEA


请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x18,0xFE	2	
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	controlType	智能开关类型	1	0x01：尾箱锁

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x18,0x01	2	
Data	数据段	
	结果		1	0x00:成功
0x01:失败
				


6. 协议内容 - 智能设置类

6.1. User档参数设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x01,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	0x00：关
0x01：开
默认：0
	speed	速度	1	范围：10-120
单位：km/h
默认：1
	maxTorque	最大扭矩	1	范围：15-50
单位：Nm
默认：1

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x01,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败



6.2. 助力推车参数设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x02,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	0x00：关
0x01：开
默认：0
	speed	速度	1	范围：3-6
单位：km/h
默认：1
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x02,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.3. 延时大灯参数设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x03,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	0x00：关
0x01：开
默认：0
	delayTime	延时时间	1	范围：5-120
单位：s
默认：1

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x03,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.4. 充电功率参数设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x04,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	chargingPower	充电功率	1	档位：30，22，18，6
单位：kW
精度：0.1
默认：30

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x04,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.5. 自动进入P档参数设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x05,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	0x00：关
0x01：开
默认：0
	delayTime	延时时间	1	档位：10-120
单位：s
精度：1
默认：60

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x05,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.6. 和弦喇叭参数设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x06,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	soundSource	音源	1	2KDA:
范围1-20
默认：1

2KFA：
范围0-5
默认：1
	volume	音量大小	1	2KDA：
范围：1-10
默认：1

2KFA：
范围1-10
默认：1

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x06,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.7. 三色氛围灯参数设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x07,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	lightingEffects	灯光效果 	1	0x01：呼吸
0x02：常亮
0x03：渐变
0x04：跑马灯
默认：1
	gradual	渐变模式	1	0x01：模式1
0x02：模式2
0x03：模式3
默认：1
	rgbr	RGB色R值	1	范围：0-255
默认：0
	rgbg	RGB色G值	1	范围：0-255
默认：0
	rgbb	RGB色G值	1	范围：0-255
默认：0

PS： 呼吸、常亮、跑马灯 里面设置RGB，渐变模块是轮换色彩，不需要设置RGB


回复(设备->手机)
字段	定义	长度	说明
Cmd	0x07,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.8. 辅助倒车档开关参数设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x08,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	0x00：关
0x01：开
默认：0
	保留	倒车速度	1	范围：1-3
单位：km/h
默认：3

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x08,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.9. 智能开关设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x63,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	0x00：关
0x01：开
默认：1
	controlType	智能开关类型	1	0x01：EBS开关
0x02：鞍座感应锁
0x03：ABS紧急刹车警示
0x04：电量指示灯
0x05：位置灯常亮
0x06：BSD功能（2KEA  REAR READER 0x270）
0x07：LCW 功能（2KEA  REAR READER 0x270）
0x08：RCW功能（2KEA  REAR READER 0x270）
0x09：倒车辅助功能（雷达）（2KEA  REAR READER 0x270）
0x0A:迎宾灯（2KDA）
0x0b：低电量续航模式
0x0c：充电指示灯(2KEA Wi-Box Can协议 0x280-6Byte-3Bit)

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x63,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

6.10. 参数设置同步（设备 -> 手机 APP）

每次蓝牙连接上后，设备主动向APP同步一次
请求(设备 ->手机)
字段 	定义	长度	说明
Cmd 	0x64,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	userControl	User档开关	1	
	userSpeed	User档速度	1	
	userMaxTorque	User档扭矩	1	
	boosterCartControl

	助力推车开关	1	
	boosterSpeed
	助力推车速度	1	
	delayedHeadlightsControl	延时大灯开关	1	
	delayedHeadlightsDelay	延时大灯延时时间	1	
	chargingPower	充电功率	1	
	autoShiftToPControl	P档开关	1	
	autoShiftToPDelay	P档延时时间	1	
	chordHornSoundSource	和弦喇叭音源	1	
	chordHornVolume	和弦喇叭音量大小	1	
	lightingEffects	三色氛围灯
灯光效果	1	
	gradual	三色氛围灯
渐变模式	1	
	changliangRgbr	三色氛围灯
常亮
RGB色R值	1	
	changliangRgbg	三色氛围灯
常亮
RGB色G值	1	
	changliangRgbb	三色氛围灯
常亮
RGB色B值	1	
	breatheRgbr	三色氛围灯
呼吸
RGB色R值	1	
	breatheRgbg	三色氛围灯
呼吸
RGB色G值	1	
	breatheRgbb	三色氛围灯
呼吸
RGB色B值	1	
	marqueeRgbr	三色氛围灯
跑马灯
RGB色R值	1	
	marqueeRgbg	三色氛围灯
跑马灯
RGB色G值	1	
	marqueeRgbb	三色氛围灯
跑马灯
RGB色B值	1	
	intelligentSwitch1	智能开关集1	1	1btye字节说明
	intelligentSwitch2	智能开关集2	1	2btye字节说明
	reverseControl	倒车开关	1	
	reverseSpeed	倒车速度	1	
	isAlarmArmed	防盗器设防状态	1	
	alarmSensitivity	防盗器灵敏度	1	
	alarmVolume	防盗器工作音量	1	
	AutoTurnResetSettings	自动转向回位设置	1	
	ebsSettings	EBS强度设置	1	000：无效
001：弱
010：标准 默认
011：增强 
2kfa wi-box -0x280
	e-saveModeSettings	低速挡扭矩	1	
	dynModeSettings	中速挡扭矩	1	
	sportModeSettings	sport高速档扭矩	1	
	intelligentSwitch3	智能开关集3	1	3btye字节说明
	intelligentSwitch4	智能开关集4	1	4btye字节说明
		ECO档速度设置值	1	
		起步强度设置	1	
		蓝牙感应解锁灵敏度	2	
		SPORT档速度设置	1	
		EBS强度	1	
				
				
				
				
				
				
				





1btye字节说明
Bti7	Bti6	Bti5	Bti4	Bt3	Bti2	Bti1	Bti0
EBS开关
0：关
1：开	鞍座感应锁
0：关
1：开	ABS紧急刹车警示
0：关
1：开	保留
0	位置灯常亮
0：关
1：开	紧急刹车告警
0：关
1：开	中箱锁
0：关
1：开	尾箱锁
0：关
1：开

2btye字节说明
Bti7	Bti6	Bti5	Bti4	Bt3	Bti2	Bti1	Bti0
防盗器设防状态 
0x0b：声防盗设防
0x0a：静音设防
0x00：不设防	防盗器灵敏度
0x0b：振动灵敏度高
0x0a：振动灵敏度中
0x01：振动灵敏度低	迎宾指示灯
0：设置关
1：设置开	车辆双闪开关
0：左记以外
1：生效	紧急模式
0：关
1：开	低电量续航模式
0：关
1：开


3btye字节说明

Bti7	Bti6	Bti5	Bti4	Bt3	Bti2	Bti1	Bti0
BSD功能
0：关
1：开	LCW 功能
0：关
1：开	RCW功能
0：关
1：开	
倒车辅助(雷达)
0：关
1：开	GPS开关
0：关
1：开	侧支架开关
0：关
1：开	TCS开关
0：关
1：开	丢失模式
0：关
1：开

4btye字节说明

Bti7	Bti6	Bti5	Bti4	Bt3	Bti2	Bti1	Bti0
充电指示灯
0：关
1：开
2KDA/2kEA	低电量续航模式
0：关
1：开
2KDA/2kEA	迎宾灯
0：关
1：开
2KDA	雷达灵敏度
0X0:低灵敏度               
0X01:中灵敏度                      
0X02:高灵敏度               
0X03:无效
2kEA
	陡坡缓降
0x1：打开
0x0：关闭
2KFA	防溜坡
0x1：打开
0x0：关闭
2KFA	0
保留






回复(手机 -> 设备)
字段	定义	长度	说明
Cmd	0x64,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败



6.11. 参数设置同步（有变化时）
（设备 -> 手机 APP）
2025-10-30更新（支持设备：135、126）
每次蓝牙连接上后，设备主动向APP同步一次，之后每次有变化时主动同步一次
请求(设备 ->手机)
字段 	定义	长度	说明
Cmd 	0x66,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	intelligentSwitch1	车辆状态	1	1btye字节
	speed	仪表速度	2	范围0~2000
单位：km/h
精度：0.1



1btye字节说明
Bti7	Bti6	Bti5	Bti4	Bt3	Bti2	Bti1	Bti0
ACC 状态
0：Off
1：On	P档与READY档
00：其他
01：READY灭,P档亮，
10：READY闪烁，P档灭，
11：READY常亮，P档灭
	2KFA 档位
00:PUSH MODE(推车)
01:ECO MODE(续航)
10:SPORT MODE(高速)			

获取说明
功能属性	机种	部件	ID	字节序	位序
P档与READY档	2KDA	VCU	0x213	1	0~1
speed	2KDA	VCU	0x211	2	1~2
2KFA 档位	2KFA	PCU	0x202	0	3-2






回复(手机 -> 设备)
字段	定义	长度	说明
Cmd	0x66,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败



6.12. 恢复默认（手机 APP -> 设备）

请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x65,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	code	智能设置标识码大项	1	如 0xFD
	codeSub	智能设置标识码子项	1	如 0x01

大项小项对应说明：
设置项	大项标识码	小项标识码
User档	0xFD	0x01
助力推车	0xFD	0x02
延时大灯	0xFD	0x03
充电功率	0xFD	0x04
自动进入P档	0xFD	0x05
和弦喇叭	0xFD	0x06
三色氛围灯	0xFD	0x07
EBS开关	0x64	0x01
鞍座感应锁	0x64	0x02
ABS紧急刹车警示	0x64	0x03
电量指示灯	0x64	0x04
位置灯常亮	0x64	0x05
自动转向回位设置	0xFD	0x0a
EBS开关设置	0xFD	0x0b
低速挡	0xFD	0x0c
中速挡	0xFD	0x0d
高速档	0xFD	0x0e
丢失模式	0xFD	0x0f
TCS开关	0xFD	0x10
侧支架开关	0xFD	0x11
电池类型与容量	0xFD	0x12


回复(设备->手机)
字段	定义	长度	说明
Cmd	0x65,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.13. 车辆防盗告警设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x09,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	alarmSensitivity	防盗器灵敏度	1	0b11：振动灵敏度高
0b10：振动灵敏度中
0b01：振动灵敏度低
2kfa wi-box -0x281

2MQA、2KGA
0x1:档位1
0x2:档位2
0x3:档位3
0x4:档位4
0x5:档位5
0xFF：不理采
	alarmVolume	防盗器工作音量	1	0b01：音量低
0b10：音量中（暂时不用）
0b11：音量高
0b00：关闭
0xFF：不理采
2kfa wi-box -0x281

		声防设置	1	2MQA、2KGA
0b11：声防盗设防
0b10：静音设防 （2MQA-静音）
0b01：不设防
0xFF：不理采
2kfa wi-box -0x281


回复(设备->手机)
字段	定义	长度	说明
Cmd	0x09,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.14. 自动转向回位设置（手机 APP -> 设备）
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0a,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	0x00：关
0x01：开
默认：0
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0a,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.15. EBS开关设置（手机 APP -> 设备）(区分)
适配车型：135 - 2KDA, 2KFA

请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0b,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	2KDA:
00：强EBS(100%)
01：中等EBS（66%）
10：弱EBS（33%）
11：关闭EBS（0%）
默认：00
2KFA:
000：无效
001：弱
010：标准
011：增强 默认
2kfa wi-box -0x280
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0b,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.16. 低速挡(E-SAVE MODE)参数设置（手机 APP -> 设备）(区分)
适配车型：135 - 2KDA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0c,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	00：强起步及加速扭矩(16Nm)
01：较强起步及加速扭矩(12Nm)
10：中等起步及加速扭矩（9Nm）
11：弱起步及加速扭矩（6Nm）
默认：00
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0c,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.17. 中速挡(DYN MODE)参数设置（手机 APP -> 设备）(区分)
适配车型：135 - 2KDA

请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0d,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	00：强起步及加速扭矩(33Nm)
01：较强起步及加速扭矩(28Nm)
10：中等起步及加速扭矩（22Nm）
11：弱起步及加速扭矩（16Nm）
默认：00
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0d,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.18. 高速档(SPORT MODE)参数设置（手机 APP -> 设备）(区分)
适配车型：135 - 2KDA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0e,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	00：强起步及加速扭矩(50Nm)
01：较强起步及加速扭矩(45Nm)
10：中等起步及加速扭矩（39Nm）
11：弱起步及加速扭矩（33Nm）
默认：00
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0e,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.19. 丢失模式 参数设置（手机 APP -> 设备）(区分)
适配车型：135 - 2KFA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x0f,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	1：设置打开
0：设置关闭 默认
2kfa wi-box -0x280
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x0f,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

6.20. TCS开关 参数设置（手机 APP -> 设备）(区分)
适配车型：135 - 2KFA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x10,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	1：设置打开 默认
0：设置关闭
2kfa wi-box -0x280
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x10,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

6.21. 侧支架开关 参数设置（手机 APP -> 设备）(区分)
适配车型：135 - 2KFA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x11,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	control	开关类型	1	1：设置打开 默认
0：设置关闭
2kfa wi-box -0x280
				

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x11,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

6.22. 电池类型与容量 参数设置（手机 APP -> 设备）(区分)
适配车型：135 - 2KFA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x12,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
	type	电池类型	1	0000：无效；
0001：普通电池；默认
0010：石墨烯电池；
0011：铅碳电池； 
2kfa wi-box -0x280
	capacity	电池容量	1	0000：无效；
0001：20ah；默认
0010：23ah；
0011：25ah；
0100：32ah；
0101：35ah；
0110：22ah;
0111：38ah;
2kfa wi-box -0x280

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x12,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.23. 2KFA、2KGA、2MQA数据同步（设备 -> 手机 APP）(区分)
适配车型：126 - 2KFA，105 - 2KGA、2MQA
每次蓝牙连接上后，设备主动向APP同步一次，保持连接时，每30秒同步一次
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x13,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
		总里程
	 4	精度：0.1
单位 km
范围  0x0 - 0xFFFFFFFE
偏移量0
2KFA Meter-0x450-0~3Byte
2KGA wibox向仪表查询
2MQA wibox向仪表查询
		单次里程	4	范围  0x0 - 0xFFFFFFFE
单位：km
精度：0.1
偏移量：0
0x00无效值
2KFA Meter-0x450- 4~7Byte
2KGA、2MQA无

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x13,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

6.24. HDC（陡坡缓降）设置（设备 -> 手机 APP）(区分)
适配车型：126 - 2KFA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x14,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
		HDC（陡坡缓降）设置	 4	0x1：设置打开，
0x0：设置关闭
2KFA Wi-Box Can协议 0x281-2Byte-6Bit

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x14,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

6.25.  HHC（防溜坡）设置（设备 -> 手机 APP）(区分)
适配车型：126 - 2KFA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x15,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
		 HHC（防溜坡）设置	 4	0x1：设置打开，
0x0：设置关闭
2KFA Wi-Box Can协议 0x281-2Byte-5Bit

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x15,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败
            
6.26. 起步强度状态设置（设备 -> 手机 APP）(区分)
适配车型：126 - 2KFA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x16,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
		起步强度状态设置	 4	0d01：弱；
0d10：标准；
0d11：强；
2KFA Wi-Box Can协议 0x281-2Byte- 3~4Bit

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x16,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败

    
6.27. SPORT档速度设置（设备 -> 手机 APP）(区分)
适配车型：126 - 2KFA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x17,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
		设置	 4	范围：30~65
单位：km/h
精度：1
偏移量：0

2kfa wi-box -0x281，限制范围33~65，超出返回失败
2L9a wi-box -0x281，限制范围33~47，超出返回失败

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x17,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败


6.28. ECO档速度设置（设备 -> 手机 APP）(区分)
适配车型：126 - 2KFA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x18,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
		设置	 1	范围：20~45
单位：km/h
精度：1
偏移量：0

2kfa wi-box -0x281，限制范围23~45，超出返回失败
2L9a wi-box -0x281，限制范围23~36，超出返回失败

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x18,0x02	2	0x02为智能设置大类别，回复定义标识
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败
6.29. 雷达设置（设备 -> 手机 APP）
适配车型：
135高配版 - 2KEA
122 高配版 - 2GGA
请求(手机->设备)
字段 	定义	长度	说明
Cmd 	0x19,0xFD	2	0xFD为智能设置大类别，接收定义标识
Data 	数据段	
	Time	指令时间	6	时间，如：700101010101,时间为1970年1月1号1时1分1秒
		雷达总开关	  1	雷达总开关（BSD、LCW、RCW、倒车辅助四合一）
0x1：设置关闭，
0x0：设置打开
默认开

2KEA  REAR READER 0x280 Byte7
		雷达灵敏度	1	0X0:低灵敏度               
0X01:中灵敏度                      
0X02:高灵敏度               
0X03:无效

默认0X02:高灵敏度
2KEA  REAR READER 0x280 Byte7

回复(设备->手机)
字段	定义	长度	说明
Cmd	0x19,0x02	2	
Data	数据段	
	ResultCode		1	0x00:成功
0x01:失败



7. 相关功能实现说明

	
7.1. 蓝牙鉴权

当APP向设备推送鉴权命令时，MCU在完成鉴权操作后，需要向蓝牙底层发送鉴权结果。

AT指令：
AT+AUTH=0表示鉴权失败断开连接
AT+AUTH=1,表示IOS鉴权成功，蓝牙发起配对
AT+AUTH=2,表示安卓鉴权成功




