# 修改len字段计算和CRC校验范围计划

## 1. 修改帧构建函数中的len字段计算

* 在`SocMcu_Frame_Build`函数中，将`len_field`的计算从`2 + data_len`改为直接使用`data_len`
* 保持帧的其他结构不变

## 2. 修改帧解析函数中的data_len计算

* 在`SocMcu_Frame_Parse`函数中，将`data_len`的计算从`len_field - 2`改为直接使用`len_field`
* 保持其他解析逻辑不变

## 3. 保持CRC校验范围不变

* 确保CRC校验仍然覆盖之前的所有字段：feature(2)+id(2)+len(2)+data(n)
* 保持`bin_complement_check_sum`函数的实现不变

## 4. 重新打包应用程序

* 运行setup.py脚本重新打包
* 验证生成的exe文件能正常运行

## 实现步骤

1. 修改`protocol/uart_protocol.py`文件中的`SocMcu_Frame_Build`函数
2. 修改`protocol/uart_protocol.py`文件中的`SocMcu_Frame_Parse`函数
3. 运行setup.py脚本重新打包应用程序
4. 测试生成的exe文件