# 修改CRC校验范围计划

## 1. 修改帧构建函数中的CRC计算范围

* 在`SocMcu_Frame_Build`函数中，将CRC校验范围从`frame[2:8+data_len]`改为`frame[0:8+data_len]`
* 这样可以包含head(1B)、sync(1B)、feature(2B)、id(2B)、len(2B)和data(nB)所有字段

## 2. 修改帧解析函数中的CRC验证范围

* 在`SocMcu_Frame_Parse`函数中，将CRC验证范围从`frame[2:8+data_len]`改为`frame[0:8+data_len]`
* 确保验证时使用与构建时相同的字段范围

## 3. 保持CRC长度设置

* 保持`SOC_MCU_CRC_LEN`为1，因为我们使用的是8位校验和算法
* 确保帧的总长度计算正确

## 4. 重新打包应用程序

* 运行setup.py脚本重新打包
* 验证生成的exe文件能正常运行

## 实现步骤

1. 修改`protocol/uart_protocol.py`文件中的`SocMcu_Frame_Build`函数
2. 修改`protocol/uart_protocol.py`文件中的`SocMcu_Frame_Parse`函数
3. 运行setup.py脚本重新打包应用程序
4. 测试生成的exe文件